<% content_for :view_component_preview_source_code_example do %>
  <link href="<%= asset_path('prism.css', skip_pipeline: true) %>" media="screen" rel="stylesheet" type="text/css" />
  <div class="view-component-source-example">
    <h2>Source:</h2>
    <pre class="source">
      <% if @render_args[:component] %>
        <code class="language-ruby">
          <%=h @preview.preview_example_source(@example_name) %>
        </code>
      <% else %>
        <% template = @view_renderer.lookup_context.find_template(@render_args[:template]) %>
        <code class="language-<%= prism_language_name(template: template) %>">
          <%=h template.source %>
        </code>
      <% end %>
    </pre>
  </div>
  <script type="text/javascript" src="<%= asset_path('prism.min.js', skip_pipeline: true) %>"></script>
<% end %>

<% if @host_application_layout == false %>
  <%= yield %>
  <%= yield(:view_component_preview_source_code_example) %>
<% else %>
  <%= render template: "layouts/#{@host_application_layout || 'application'}" %>
<% end %> 
